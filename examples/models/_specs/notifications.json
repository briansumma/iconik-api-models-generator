{"components":{"schemas":{"WebhookBaseSchema":{"properties":{"date_created":{"format":"date-time","type":"string"},"date_modified":{"format":"date-time","type":"string"},"deleted_at":{"format":"date-time","type":"string"},"description":{"type":"string"},"event_type":{"description":"Type of events. Example assets, collections","example":"assets","type":"string"},"first_failed_at":{"format":"date-time","type":"string"},"headers":{"additionalProperties":{"type":"string"},"description":"Define the key-value pairs your third party provider requires here","example":{"AUTH-TOKEN":"XYZ","S3_BUCKET_NAME":"iconik-examples","S3_REGION":"eu-west-1","SECRET":"asdad"},"type":"object"},"id":{"format":"uuid","type":"string"},"last_error":{"type":"string"},"last_payload":{"type":"string"},"name":{"type":"string"},"object_id":{"description":"ID of a particular object you want to subscribe on","example":"d7a5a7e8-4247-11ee-b3d8-a683e79fffaf","format":"uuid","nullable":true,"type":"string"},"operation":{"description":"Operation of event. Example create, update, delete","example":"update","nullable":true,"type":"string"},"query":{"description":"Adding a query allows filtering out messages so webhooks will be called only if for messages that match this query.","example":"data.is_archived=false AND data.size>0 (data.status=\"CLOSED\" OR data.status=\"DELETED\") AND data.external_id!=null","type":"string"},"realm":{"description":"Realm of event. Example entity, contents, acls, metadata","example":"metadata","nullable":true,"type":"string"},"status":{"enum":["ENABLED","DISABLED","FAILING","DELETED"],"example":"ENABLED","type":"string"},"url":{"description":"URL you want to be called when notification is appeared","example":"https://example.com/webhook_handler","type":"string"}},"required":["event_type","id","status","url"],"type":"object"},"WebhookCreateSchema":{"properties":{"date_created":{"format":"date-time","type":"string"},"date_modified":{"format":"date-time","type":"string"},"deleted_at":{"format":"date-time","type":"string"},"description":{"type":"string"},"event_type":{"description":"Type of events. Example assets, collections","example":"assets","type":"string"},"first_failed_at":{"format":"date-time","type":"string"},"headers":{"additionalProperties":{"type":"string"},"description":"Define the key-value pairs your third party provider requires here","example":{"AUTH-TOKEN":"XYZ","S3_BUCKET_NAME":"iconik-examples","S3_REGION":"eu-west-1","SECRET":"asdad"},"type":"object"},"id":{"format":"uuid","readOnly":true,"type":"string"},"last_error":{"type":"string"},"last_payload":{"type":"string"},"name":{"type":"string"},"object_id":{"description":"ID of a particular object you want to subscribe on","example":"d7a5a7e8-4247-11ee-b3d8-a683e79fffaf","format":"uuid","nullable":true,"type":"string"},"operation":{"description":"Operation of event. Example create, update, delete","example":"update","nullable":true,"type":"string"},"query":{"description":"Adding a query allows filtering out messages so webhooks will be called only if for messages that match this query.","example":"data.is_archived=false AND data.size>0 (data.status=\"CLOSED\" OR data.status=\"DELETED\") AND data.external_id!=null","type":"string"},"realm":{"description":"Realm of event. Example entity, contents, acls, metadata","example":"metadata","nullable":true,"type":"string"},"status":{"enum":["ENABLED","DISABLED","FAILING","DELETED"],"example":"ENABLED","type":"string"},"url":{"description":"URL you want to be called when notification is appeared","example":"https://example.com/webhook_handler","type":"string"}},"required":["event_type","status","url"],"type":"object"},"WebhookInternalSchema":{"properties":{"date_created":{"format":"date-time","type":"string"},"date_modified":{"format":"date-time","type":"string"},"deleted_at":{"format":"date-time","type":"string"},"description":{"type":"string"},"event_type":{"description":"Type of events. Example assets, collections","example":"assets","type":"string"},"first_failed_at":{"format":"date-time","type":"string"},"headers":{"type":"string"},"id":{"format":"uuid","type":"string"},"last_error":{"type":"string"},"last_payload":{"type":"string"},"name":{"type":"string"},"object_id":{"description":"ID of a particular object you want to subscribe on","example":"d7a5a7e8-4247-11ee-b3d8-a683e79fffaf","format":"uuid","nullable":true,"type":"string"},"operation":{"description":"Operation of event. Example create, update, delete","example":"update","nullable":true,"type":"string"},"query":{"description":"Adding a query allows filtering out messages so webhooks will be called only if for messages that match this query.","example":"data.is_archived=false AND data.size>0 (data.status=\"CLOSED\" OR data.status=\"DELETED\") AND data.external_id!=null","type":"string"},"realm":{"description":"Realm of event. Example entity, contents, acls, metadata","example":"metadata","nullable":true,"type":"string"},"status":{"enum":["ENABLED","DISABLED","FAILING","DELETED"],"example":"ENABLED","type":"string"},"url":{"description":"URL you want to be called when notification is appeared","example":"https://example.com/webhook_handler","type":"string"}},"required":["event_type","id","status","url"],"type":"object"},"WebhookSchema":{"properties":{"date_created":{"format":"date-time","readOnly":true,"type":"string"},"date_modified":{"format":"date-time","readOnly":true,"type":"string"},"deleted_at":{"format":"date-time","type":"string"},"description":{"type":"string"},"event_type":{"description":"Type of events. Example assets, collections","example":"assets","type":"string"},"first_failed_at":{"format":"date-time","readOnly":true,"type":"string"},"headers":{"additionalProperties":{"type":"string"},"description":"Define the key-value pairs your third party provider requires here","example":{"AUTH-TOKEN":"XYZ","S3_BUCKET_NAME":"iconik-examples","S3_REGION":"eu-west-1","SECRET":"asdad"},"type":"object"},"id":{"format":"uuid","readOnly":true,"type":"string"},"last_error":{"type":"string"},"last_payload":{"type":"string"},"name":{"type":"string"},"object_id":{"description":"ID of a particular object you want to subscribe on","example":"d7a5a7e8-4247-11ee-b3d8-a683e79fffaf","format":"uuid","nullable":true,"type":"string"},"operation":{"description":"Operation of event. Example create, update, delete","example":"update","nullable":true,"type":"string"},"query":{"description":"Adding a query allows filtering out messages so webhooks will be called only if for messages that match this query.","example":"data.is_archived=false AND data.size>0 (data.status=\"CLOSED\" OR data.status=\"DELETED\") AND data.external_id!=null","type":"string"},"realm":{"description":"Realm of event. Example entity, contents, acls, metadata","example":"metadata","nullable":true,"type":"string"},"status":{"enum":["ENABLED","DISABLED","FAILING","DELETED"],"example":"ENABLED","type":"string"},"url":{"description":"URL you want to be called when notification is appeared","example":"https://example.com/webhook_handler","type":"string"}},"required":["event_type","id","status","url"],"type":"object"},"WebhooksSchema":{"properties":{"objects":{"items":{"$ref":"#/components/schemas/WebhookSchema"},"type":"array"}},"type":"object"}}},"info":{"title":"iconik Notifications","version":"2.0.0"},"openapi":"3.0.3","paths":{"/v1/webhooks/":{"get":{"description":"\nRequired roles:\n - can_read_webhooks\n","parameters":[{"in":"header","name":"Auth-Token","required":true,"schema":{"type":"string"},"style":"simple"},{"in":"header","name":"App-ID","required":true,"schema":{"type":"string"},"style":"simple"}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhooksSchema"}}},"description":"Returns a list of webhooks"},"400":{"description":"Bad request"},"401":{"description":"Token is invalid"},"default":{"content":{"application/json":{"examples":{"multiple":{"summary":"Example multiple messages.","value":{"errors":{"field1":"Error message for field1","field2":"Error message for field2"}}},"single":{"summary":"Example single message.","value":{"errors":["Example error message."]}}},"schema":{"oneOf":[{"properties":{"errors":{"items":{"type":"string"},"type":"array"}},"type":"object"},{"properties":{"errors":{"type":"object"}},"type":"object"}]}}},"description":"Error response"}},"summary":"Get all webhooks"},"post":{"description":"\nRequired roles:\n - can_write_webhooks\n","parameters":[{"in":"header","name":"Auth-Token","required":true,"schema":{"type":"string"},"style":"simple"},{"in":"header","name":"App-ID","required":true,"schema":{"type":"string"},"style":"simple"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookCreateSchema"}}},"description":"body","required":true},"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookSchema"}}},"description":"Returns a created webhook"},"400":{"description":"Bad request"},"401":{"description":"Token is invalid"},"default":{"content":{"application/json":{"examples":{"multiple":{"summary":"Example multiple messages.","value":{"errors":{"field1":"Error message for field1","field2":"Error message for field2"}}},"single":{"summary":"Example single message.","value":{"errors":["Example error message."]}}},"schema":{"oneOf":[{"properties":{"errors":{"items":{"type":"string"},"type":"array"}},"type":"object"},{"properties":{"errors":{"type":"object"}},"type":"object"}]}}},"description":"Error response"}},"summary":"Create a new webhook"}},"/v1/webhooks/{webhook_id}/":{"delete":{"description":"\nRequired roles:\n - can_delete_webhooks\n","parameters":[{"in":"header","name":"Auth-Token","required":true,"schema":{"type":"string"},"style":"simple"},{"in":"header","name":"App-ID","required":true,"schema":{"type":"string"},"style":"simple"},{"in":"path","name":"webhook_id","required":true,"schema":{"type":"string"},"style":"simple"}],"responses":{"204":{"description":"Returns an empty body"},"400":{"description":"Bad request"},"401":{"description":"Token is invalid"},"default":{"content":{"application/json":{"examples":{"multiple":{"summary":"Example multiple messages.","value":{"errors":{"field1":"Error message for field1","field2":"Error message for field2"}}},"single":{"summary":"Example single message.","value":{"errors":["Example error message."]}}},"schema":{"oneOf":[{"properties":{"errors":{"items":{"type":"string"},"type":"array"}},"type":"object"},{"properties":{"errors":{"type":"object"}},"type":"object"}]}}},"description":"Error response"}},"summary":"Delete a webhook"},"get":{"description":"\nRequired roles:\n - can_read_webhooks\n","parameters":[{"in":"header","name":"Auth-Token","required":true,"schema":{"type":"string"},"style":"simple"},{"in":"header","name":"App-ID","required":true,"schema":{"type":"string"},"style":"simple"},{"in":"path","name":"webhook_id","required":true,"schema":{"type":"string"},"style":"simple"}],"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookSchema"}}},"description":"Returns a webhook by it's ID"},"400":{"description":"Bad request"},"401":{"description":"Token is invalid"},"default":{"content":{"application/json":{"examples":{"multiple":{"summary":"Example multiple messages.","value":{"errors":{"field1":"Error message for field1","field2":"Error message for field2"}}},"single":{"summary":"Example single message.","value":{"errors":["Example error message."]}}},"schema":{"oneOf":[{"properties":{"errors":{"items":{"type":"string"},"type":"array"}},"type":"object"},{"properties":{"errors":{"type":"object"}},"type":"object"}]}}},"description":"Error response"}},"summary":"Get a webhook definition"},"put":{"description":"\nRequired roles:\n - can_write_webhooks\n","parameters":[{"in":"header","name":"Auth-Token","required":true,"schema":{"type":"string"},"style":"simple"},{"in":"header","name":"App-ID","required":true,"schema":{"type":"string"},"style":"simple"},{"in":"path","name":"webhook_id","required":true,"schema":{"type":"string"},"style":"simple"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookCreateSchema"}}},"description":"body","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookSchema"}}},"description":"Returns the updated webhook"},"400":{"description":"Bad request"},"401":{"description":"Token is invalid"},"default":{"content":{"application/json":{"examples":{"multiple":{"summary":"Example multiple messages.","value":{"errors":{"field1":"Error message for field1","field2":"Error message for field2"}}},"single":{"summary":"Example single message.","value":{"errors":["Example error message."]}}},"schema":{"oneOf":[{"properties":{"errors":{"items":{"type":"string"},"type":"array"}},"type":"object"},{"properties":{"errors":{"type":"object"}},"type":"object"}]}}},"description":"Error response"}},"summary":"Update a webhook"}}},"servers":[{"url":"/API/notifications/"}]}